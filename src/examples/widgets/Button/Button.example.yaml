# Case 1: Action not found
# Target: ensure the widget correctly handles missing action definition within "actions".
# Expected behavior: clicking the button triggers an error notification ("The widget definition does not include an action ...").
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-no-action
  namespace: krateo-system
spec:
  widgetData:
    label: Click
    icon: fa-trash
    type: primary
    clickActionId: click
    actions: {}
  resourcesRefs:
    items: []
---
# Case 2: Default button with label only
# Target: verify correct rendering of text label with default shape and size.
# Expected behavior: displays a standard button labeled “Run”.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-basic
  namespace: krateo-system
spec:
  widgetData:
    label: Run
    type: default
    shape: default
    clickActionId: navigate-example-button-page
    actions:
      navigate:
        - id: navigate-example-button-page
          path: /button
          type: navigate
  resourcesRefs:
    items:
      - id: navigate-example-button-page
        apiVersion: widgets.templates.krateo.io/v1beta1
        name: example-button-page
        namespace: krateo-system
        resource: pages
        verb: GET
---
# Case 3: Primary button with icon and label
# Target: confirm correct layout of icon + label combination.
# Expected behavior: icon appears to the left of the text with correct spacing.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-with-icon
  namespace: krateo-system
spec:
  widgetData:
    label: Deploy
    icon: fa-rocket
    type: primary
    shape: default
    size: middle
    clickActionId: navigate-example-button-page
    actions:
      navigate:
        - id: navigate-example-button-page
          path: /button
          type: navigate
  resourcesRefs:
    items:
      - id: navigate-example-button-page
        apiVersion: widgets.templates.krateo.io/v1beta1
        name: example-button-page
        namespace: krateo-system
        resource: pages
        verb: GET
---
# Case 4: Circle-shaped button with icon only
# Target: verify proper sizing and centering of circular icon-only button.
# Expected behavior: renders compact circle button showing only the icon.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-icon-circle
  namespace: krateo-system
spec:
  widgetData:
    icon: fa-trash
    shape: circle
    type: default
    clickActionId: navigate-example-button-page
    actions:
      navigate:
        - id: navigate-example-button-page
          path: /button
          type: navigate
  resourcesRefs:
    items:
      - id: navigate-example-button-page
        apiVersion: widgets.templates.krateo.io/v1beta1
        name: example-button-page
        namespace: krateo-system
        resource: pages
        verb: GET
---
# Case 5: Default rounded button with custom color
# Target: ensure color token and rounded shape are correctly applied.
# Expected behavior: button has smooth rounded corners and red color variant.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-rounded-red
  namespace: krateo-system
spec:
  widgetData:
    label: Restart
    backgroundColor: red
    type: default
    shape: round
    size: middle
    clickActionId: navigate-example-button-page
    actions:
      navigate:
        - id: navigate-example-button-page
          path: /button
          type: navigate
  resourcesRefs:
    items:
      - id: navigate-example-button-page
        apiVersion: widgets.templates.krateo.io/v1beta1
        name: example-button-page
        namespace: krateo-system
        resource: pages
        verb: GET
---
# Case 6: Large primary button
# Target: verify consistent scaling for “large” size.
# Expected behavior: increased padding and text size; alignment preserved.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-large-primary
  namespace: krateo-system
spec:
  widgetData:
    label: Approve
    type: primary
    size: large
    shape: default
    clickActionId: navigate-example-button-page
    actions:
      navigate:
        - id: navigate-example-button-page
          path: /button
          type: navigate
  resourcesRefs:
    items:
      - id: navigate-example-button-page
        apiVersion: widgets.templates.krateo.io/v1beta1
        name: example-button-page
        namespace: krateo-system
        resource: pages
        verb: GET
---
# Case 7: Small dashed button
# Target: confirm rendering of alternative visual “dashed” style.
# Expected behavior: smaller text and dotted outline.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-small-dashed
  namespace: krateo-system
spec:
  widgetData:
    label: Details
    type: dashed
    size: small
    shape: default
    clickActionId: navigate-example-button-page
    actions:
      navigate:
        - id: navigate-example-button-page
          path: /button
          type: navigate
  resourcesRefs:
    items:
      - id: navigate-example-button-page
        apiVersion: widgets.templates.krateo.io/v1beta1
        name: example-button-page
        namespace: krateo-system
        resource: pages
        verb: GET
---
# Case 8: Link-style button
# Target: verify inline link appearance (no background or border).
# Expected behavior: visually rendered as a text hyperlink.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-link
  namespace: krateo-system
spec:
  widgetData:
    label: View Logs
    type: link
    size: middle
    clickActionId: navigate-example-button-page
    actions:
      navigate:
        - id: navigate-example-button-page
          path: /button
          type: navigate
  resourcesRefs:
    items:
      - id: navigate-example-button-page
        apiVersion: widgets.templates.krateo.io/v1beta1
        name: example-button-page
        namespace: krateo-system
        resource: pages
        verb: GET
---
# Case 9: Text-only button
# Target: confirm flat minimal variant without border or background.
# Expected behavior: renders as simple text element, aligned with other inline elements.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-text
  namespace: krateo-system
spec:
  widgetData:
    label: Edit
    type: text
    shape: default
    clickActionId: navigate-example-button-page
    actions:
      navigate:
        - id: navigate-example-button-page
          path: /button
          type: navigate
  resourcesRefs:
    items:
      - id: navigate-example-button-page
        apiVersion: widgets.templates.krateo.io/v1beta1
        name: example-button-page
        namespace: krateo-system
        resource: pages
        verb: GET
---
# Case 10: navigate action - Navigation to another page using `path`
# Target: trigger navigation to a static route (`/barchart`) when the button is clicked.
# Expected behavior: clicking the button redirects the user to `/barchart`.
# No confirmation or loading state are required.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-navigate-path
  namespace: krateo-system
spec:
  widgetData:
    label: Navigate to Bar Chart
    type: primary
    shape: default
    clickActionId: navigate-to-barchart
    actions:
      navigate:
        - id: navigate-to-barchart
          path: /barchart
          type: navigate
  resourcesRefs:
    items: []
---
# Case 11: navigate action - Navigation to another resource using `resourceRefId`
# Target: navigate to another dashboard resource (identified by its ref ID).
# Expected behavior: clicking the button triggers navigation to the target resource page.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-navigate-resource
  namespace: krateo-system
spec:
  widgetData:
    label: Navigate to Dashboard
    type: default
    clickActionId: navigate-to-dashboard
    actions:
      navigate:
        - id: navigate-to-dashboard
          type: navigate
          resourceRefId: dashboard-page
  resourcesRefs:
    items:
      - id: dashboard-page
        apiVersion: widgets.templates.krateo.io/v1beta1
        name: dashboard-page
        namespace: krateo-system
        resource: pages
        verb: GET
---
# Case 12: navigate action - Navigation with confirmation prompt (`requireConfirmation: true`)
# Target: prevent accidental navigation by requiring explicit user confirmation.
# Expected behavior: before navigating, a confirmation dialog is shown.
# Only if confirmed does the navigation occur.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-navigate-confirm
  namespace: krateo-system
spec:
  widgetData:
    label: Navigate to Bar Chart
    type: default
    shape: round
    size: middle
    clickActionId: navigate-to-barchart
    actions:
      navigate:
        - id: navigate-to-barchart
          path: /barchart
          type: navigate
          requireConfirmation: true
  resourcesRefs:
    items: []
---
# Case 13: navigate action - Navigation with loading indicator
# Target: provide visual feedback during navigation.
# Expected behavior: the button shows a loading spinner while navigation is being processed.
kind: Button
apiVersion: widgets.templates.krateo.io/v1beta1
metadata:
  name: example-button-navigate-loading
  namespace: krateo-system
spec:
  widgetData:
    label: Navigate to Bar Chart
    type: primary
    size: middle
    clickActionId: navigate-to-barchart
    actions:
      navigate:
        - id: navigate-to-barchart
          path: /barchart
          type: navigate
          loading:
            display: true
  resourcesRefs:
    items: []